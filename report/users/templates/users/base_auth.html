{% load static %}
<!DOCTYPE html>
<html lang="fr" class="spectrum spectrum--light spectrum--medium">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}MTN CI - CAPEX Works Valuation Tool{% endblock %}</title>
    <link rel="icon" type="image/jpeg" href="{% static 'logo_mtn.jpeg' %}">
    <link rel="shortcut icon" type="image/jpeg" href="{% static 'logo_mtn.jpeg' %}">
    <link rel="stylesheet" href="{% static 'dist/app.css' %}">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="h-screen w-full grid grid-cols-1 lg:grid-cols-2 bg-gray-900">
        <div class="relative hidden md:block">
            <div id="authCarousel" class="h-full w-full">
                <div class="carousel-slide absolute inset-0 transition-opacity duration-700">
                    <img src="{% static 'i.jpg' %}" alt="Visuel 1" class="w-full h-full object-cover">
                </div>
                <div class="carousel-slide opacity-0 absolute inset-0 transition-opacity duration-700">
                    <img src="{% static 'j.jpeg' %}" alt="Visuel 2" class="w-full h-full object-cover">
                </div>
                <div class="carousel-slide opacity-0 absolute inset-0 transition-opacity duration-700">
                    <img src="{% static 's.jpg' %}" alt="Visuel 3" class="w-full h-full object-cover">
                </div>
                <div class="absolute bottom-6 left-6 flex gap-2">
                    <button class="carousel-dot h-2 w-2 rounded-full bg-white/50"></button>
                    <button class="carousel-dot h-2 w-2 rounded-full bg-white/50"></button>
                    <button class="carousel-dot h-2 w-2 rounded-full bg-white/50"></button>
                </div>
            </div>
        </div>
        <div class="bg-white h-full flex flex-col">
            <div class="p-10 pt-4 flex-1 flex flex-col">
                <div class="text-center mb-4">
                    <img src="{% static 'logo_mtn.jpeg' %}" alt="MTN Logo" class="h-16 inline-block rounded-lg">
                </div>
                <div class="text-center mb-6">
                    <h1 class="spectrum-Heading spectrum-Heading--M">{% block header_title %}Bienvenue{% endblock %}</h1>
                    <p class="spectrum-Body">{% block header_subtitle %}Connectez-vous pour accéder à votre espace{% endblock %}</p>
                </div>
                {% if messages %}
                    {% for message in messages %}
                        {% if message.tags == 'success' %}
                            <div class="auto-dismiss mb-4 rounded-lg bg-green-50 text-green-900 p-3">{{ message }}</div>
                        {% elif message.tags == 'error' or message.tags == 'danger' %}
                            <div class="auto-dismiss mb-4 rounded-lg bg-red-50 text-red-900 p-3">{{ message }}</div>
                        {% elif message.tags == 'info' %}
                            <div class="auto-dismiss mb-4 rounded-lg bg-blue-50 text-blue-900 p-3">{{ message }}</div>
                        {% elif message.tags == 'warning' %}
                            <div class="auto-dismiss mb-4 rounded-lg bg-yellow-50 text-yellow-900 p-3">{{ message }}</div>
                        {% else %}
                            <div class="auto-dismiss mb-4 rounded-lg bg-gray-50 text-gray-900 p-3">{{ message }}</div>
                        {% endif %}
                    {% endfor %}
                {% endif %}
                {% block content %}{% endblock %}

            </div>
        </div>
    </div>
    <script>
        setTimeout(function() {
            document.querySelectorAll('.auto-dismiss').forEach(function(el) {
                el.remove();
            });
        }, 5000);
        (function() {
            var slides = document.querySelectorAll('#authCarousel .carousel-slide');
            var dots = document.querySelectorAll('#authCarousel .carousel-dot');
            var index = 0;
            function updateDots() {
                dots.forEach(function(d,i){
                    d.classList.toggle('bg-white', i === index);
                    d.classList.toggle('bg-white/50', i !== index);
                });
            }
            function showSlide(i) {
                slides.forEach(function(s){ s.classList.add('opacity-0'); });
                index = i % slides.length;
                slides[index].classList.remove('opacity-0');
                updateDots();
            }
            dots.forEach(function(d,i){
                d.addEventListener('click', function(){ showSlide(i); });
            });
            var timer = setInterval(function(){ showSlide(index+1); }, 6000);
            var carousel = document.getElementById('authCarousel');
            carousel.addEventListener('mouseenter', function(){ clearInterval(timer); });
            carousel.addEventListener('mouseleave', function(){ timer = setInterval(function(){ showSlide(index+1); }, 6000); });
            showSlide(0);
            
        })();
    </script>
    {% block extra_js %}{% endblock %}
</body>
</html>
